# Cline 성능 최적화 + 메모리 뱅크 규칙

## 🔥 컨텍스트 윈도우 관리 (가장 중요)
- **파일이 500줄 이상이면 즉시 분할하여 컨텍스트 크기 감소**
- **컨텍스트 사용량 70% 도달 시 새 작업 시작 제안**
- **불필요한 대화 히스토리 최소화**

## 언어 설정
- **모든 대화와 설명을 한국어로 진행**
- **변수명과 함수명은 영어, 주석과 설명은 한국어**
- **에러 메시지와 로그도 한국어로 설명**

## ⚡ 파일 접근 최적화
- **현재 작업과 관련없는 파일 절대 읽지 않기**
- **node_modules, .next, dist, .git 폴더 절대 접근 금지**
- **한 번에 최대 3개 파일까지만 동시 작업**
- **기존 파일 수정 시 전체 읽기보다 부분 수정 우선**

## 🎯 작업 단위 최소화
- **하나의 요청당 하나의 파일만 수정**
- **하나의 요청당 하나의 기능만 구현**
- **5개 이상 파일 변경이 필요하면 작업을 분할**

## 🚫 불필요한 동작 방지
- **코드 설명 요청 시 파일 전체 재작성 금지**
- **미리 확인하지 말고 바로 실행**
- **긴 설명보다 간단한 결과 보고**
- **관련없는 폴더 탐색 금지**

## 🧠 메모리 뱅크 자동 관리

### 자동 업데이트 규칙
- **중요한 코드 변경 시 즉시 메모리 뱅크 업데이트**
- **새로운 컴포넌트 생성 시 projectbrief.md 자동 갱신**
- **폴더 구조 변경 시 systemPatterns.md 업데이트**
- **5개 이상 파일 수정 후 progress.md 자동 업데이트**

### 컨텍스트 정리 & 이관
- **컨텍스트 80% 도달 시 "update memory bank" 자동 실행**
- **새 작업 시작 전 현재 상태를 memory bank에 저장**
- **세션 재시작 시 "follow your custom instructions" 자동 적용**
- **중요한 결정사항은 즉시 activeContext.md에 기록**

### 메모리 뱅크 최적화
- **중복 정보 자동 정리**
- **오래된 정보는 요약하여 압축**
- **현재 작업과 관련있는 정보만 activeContext에 유지**
- **완료된 작업은 progress.md로 이동**

### 자동 문서화
- **새 기능 구현 시 techContext.md 자동 업데이트**
- **API 변경 시 관련 문서 자동 갱신**
- **에러 해결 시 해결 방법을 메모리 뱅크에 기록**
- **성능 개선 사항 자동 문서화**

## 💾 스마트 메모리 사용

### 정보 우선순위
- **현재 작업 관련 정보 > 최근 결정사항 > 프로젝트 구조 > 히스토리**
- **activeContext.md: 현재 진행중인 작업만**
- **progress.md: 완료된 작업과 다음 단계**
- **projectbrief.md: 변하지 않는 핵심 정보**

### 자동 정리 규칙
- **완료된 TODO 자동 제거**
- **사용하지 않는 설정 정보 정리**
- **중복된 기술 스택 정보 통합**
- **오래된 이슈 정보 아카이브**

## 🔄 세션 관리 최적화

### 세션 시작 시
- **항상 "follow your custom instructions" 자동 실행**
- **메모리 뱅크에서 현재 상태 빠르게 로드**
- **진행중인 작업 우선순위 자동 표시**

### 세션 종료 시  
- **현재 상태 메모리 뱅크에 자동 저장**
- **다음 세션을 위한 TODO 정리**
- **중요한 컨텍스트 보존**

### 긴 세션 관리
- **1시간마다 메모리 뱅크 자동 업데이트**
- **컨텍스트 윈도우 정리를 위한 자동 정리**
- **중요 정보만 남기고 나머지는 압축**

## ⚙️ API 호출 최적화
- **명확한 지시에는 중간 확인 없이 바로 실행**
- **파일 생성 후 불필요한 재확인 금지**
- **에러 발생 시에만 상세 분석**

## 🧹 자동 정리
- **작업 완료 후 임시 파일 자동 정리**
- **import 구문 자동 정리**
- **사용하지 않는 변수/함수 자동 제거**
- **메모리 뱅크 중복 내용 자동 제거**